//.TODO
//- diagrams example to highlight more diagrams
//- heads under project subject slide
= Asciidoctor | New, Noteworthy, & Beyond
Alex Soto
:organization: RedHat
:twitter: <pick his preferred @>
:title-separator: |
:!sectids:
:imagesdir: images
//:source-highlighter: coderay
:coderay-css: style
:icons: font
:iconfont-cdn: https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css
:docinfo: shared

[.tweet]
== !

++++
<blockquote class="twitter-tweet" data-dnt="true" data-lang="en" data-width="400"><p lang="en" dir="ltr">The more I work with <a href="https://twitter.com/asciidoctor">@asciidoctor</a> the more I love writing documentation. Very nice when the default output is gorgeous.</p>&mdash; Garrett D&#39;Amore (@gedamore) <a href="https://twitter.com/gedamore/status/921452899460202496">October 20, 2017</a></blockquote>
++++

[.topic]
== Logo

[.curtain]
== !

image::logo-fill.svg#logo-outline.svg[Asciidoctor logo,640,role=reveal build-items]

[.topic]
== Processor

// SAW: Dan, this slide just really doesn't work for me. :p I'd just cut it, and say this part of the transcript while you're on the slide above.
[.feature%slice]
//== AsciiDoc icon:home[]  Asciidoctor
== Asciidoctor  icon:home[] AsciiDoc

[.feature]
== xrefstyle

[.code.io]
== :xrefstyle: full

[.insert,build=items]
--
----
Refer to <<foreign-keys>>.

...

=== Foreign Keys
----

[example]
Refer to [.underline]#Section 3.2, “Foreign Keys”#.
--

[.code.io]
== :xrefstyle: short

--
----
Refer to <<foreign-keys>>.

...

=== Foreign Keys
----

[example]
Refer to [.underline]#Section 3.2#.
--

[.feature]
== icon:language[] Translations

[.translations]
== data/locale/attributes-<lang>.adoc

[.tags]
* ar
* bg
* ca
* da
* de
* es
* fa
* fi
* fr
* hu
* id
* it
* ja
* kr
* nb
* nl
* nn
* pl
* pt
* pt_BR
* ro
* ru
* sr
* sr_Latn
* tr
* uk
* zh_CN
* zh_TW

[.code]
== Translated attributes :: fr

----
:appendix-caption: Appendice
:appendix-refsig: {appendix-caption}
:caution-caption: Avertissement
:example-caption: Exemple
:figure-caption: Figure
:important-caption: Important
:last-update-label: Dernière mise à jour
...
----

[.feature]
== Advanced tag filtering

[.code]
== Tagged include file

----
package com.acme;
//tag::named[]
import javax.inject.Named;
//end::named[]
import javax.enterprise.context.RequestScoped;

//tag::named[]
@Named("X")
//end::named[]
@RequestScoped
public class TheBeanCalledX {
  ...
}
----

[.code.io]
== Exclude all tags

[.insert,build=items]
--
[listing]
....
----
\include::TheBeanCalledX.java[tags=!*]
----
....

....
package com.acme;
import javax.enterprise.context.RequestScoped;

@RequestScoped
public class TheBeanCalledX {
  ...
}
....
--

[.code.io]
== Exclude tags by name

--
[listing]
....
----
\include::TheBeanCalledX.java[tags=!named]
----
....

....
package com.acme;
import javax.enterprise.context.RequestScoped;

@RequestScoped
public class TheBeanCalledX {
  ...
}
....
--

[.code.io]
== Include everything

[.insert,build=items]
--
[listing]
....
----
\include::TheBeanCalledX.java[tags=**]
----
....

....
package com.acme;

import javax.inject.Named;
import javax.enterprise.context.RequestScoped;

@Named("X")
@RequestScoped
public class TheBeanCalledX {
  ...
}
....
--

[.feature]
== Stronger SVG support

[.code.io]
== Interactive SVG

[.insert,build=items]
--
----
image::diagram.svg[opts=interactive]
----

....
<object type="image/svg+xml" data="diagram.svg">
<span class="alt">diagram</span>
</object>
....
--

[.code.io]
== Inline SVG

--
----
image::diagram.svg[opts=inline]
----

....
<svg xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 600 400" version="1.1">
  <g>...</g>
</svg>
....
--

[.code]
== Diagrams in SVG...

[listing,subs=+quotes]
....
[plantuml,devoxx,**svg,opts=inline**]
----
start
if (Going to Devoxx?) then (yes)
  : attend talks \n network \n drink beer;
else (no)
  : watch talks \n live on YouTube \n (without pants);
endif
stop
----
....

// FIXME turn this into a replace build
[.code]
== ...means diagrams are crisp

image::devoxx-activity-diagram.svg[role=grow-y]

[.feature]
== Compliance & stability
// sort of like Java's project coin

[.topic]
== Performance

[.feature]
== Why icon:diamond[role=accent ruby] ?

[.feature]
== GitHub icon:heart[role=accent] AsciiDoc

[.enorme]
== [.hi]#35%# faster!

// SAW: No to this slide, it doesn't add anything and I keep interpreting it as "fast-forward Asciidoctor to AsciiDoc.py"
//[%slice]
//== icon:fast-forward[] Asciidoctor  AsciiDoc.py

[.topic]
//== Ecosystem Growth
== Ecosystem icon:line-chart[]

== !

.Source: \http://bestgems.org/gems/asciidoctor
image::gem-download-chart.png[,800]

[.feature]
== By the numbers

[.stats]
== !

[.container]
--
.icon:download[] Gem
//.Gem Downloads
2.5m

.icon:download[] AsciidoctorJ
//.AsciidoctorJ Downloads
{blank}.25m/y

.icon:download[] Asciidoctor.js
//.Asciidoctor.js Downloads
35.5k

.Repositories
70

.Contributors
376

.Supporters
80
--

[.feature]
== AsciidoctorJ

== !

image::asciidoctorj.svg[role=grow,opts=interactive]

[.feature]
== Asciidoctor.js

== !

image::asciidoctorjs.svg[role=grow,opts=interactive]

[.code]
== Inline issue macro

[source,ruby]
----
Asciidoctor::Extensions.register do
  inline_macro :issue do
    process do |parent, id, attrs|
      base_uri = parent.document.attr 'uri-issues'
      create_anchor parent, id, \
          type: :link,
          target: "#{base_uri}/#{id}",
          attributes: attrs
    end
  end
end
----

[.code]
== Inline issue macro

[source,js]
----
Opal.Asciidoctor.Extensions.register(function () {
  this.inlineMacro('issue', function () {
    this.process((parent, id, attrs) => {
      const baseUri = parent.getDocument()
          .getAttribute('uri-issues')
      return this.createInline(parent, 'anchor', id, {
        type: 'link',
        target: `${baseUri}/${id}`,
        attributes: attrs
      })
    })
  })
})
----

[.code]
== Inline issue macro

[source,groovy]
----
asciidoctor {
  extensions {
    inline_macro (name: 'issue') { parent, id, attrs ->
      baseUri = parent.document.getAttribute('uri-issues')
      createInline(parent, 'anchor', id, attrs, [
        type: ':link',
        target: "${baseUri}/${id}".toString(),
        attributes: attrs
      ])
    }
  }
}
----

[.feature]
== Bespoke converter

[.code]
== Basic presentation

----
= My Awesome Presentation

== Get Ready In...

[%build]
* 3
* 2
* 1

== Gather the Crowd

== Shout It Aloud

== Creative Cloud!
----

[.code.io]
== Fancy Text

[.insert,build=items]
--
----
[.remark%slice%fit]
== This is a  Call  to All Engineers
----

[.call]
====
[.line.l1]#This is a#
[.line.l2]#Call#
[.line.l3]#to All Engineers#
====
--

[.topic]
== Adoption

== !

[.tweet]
++++
<blockquote class="twitter-tweet" data-dnt="true" data-cards="hidden" data-lang="en" data-width="400"><p lang="en" dir="ltr">4 Years after hearing <a href="https://twitter.com/mojavelinux">@mojavelinux</a> talk about asciidoc at FUDCon Lawrence <a href="https://twitter.com/fedora">@Fedora</a> docs has finally moved away from… <a href="https://t.co/lDBcrLpiSe">https://t.co/lDBcrLpiSe</a></p>&mdash; Zach Oglesby (@zmoglesby) <a href="https://twitter.com/zmoglesby/status/900873959121530882">August 25, 2017</a></blockquote>
++++

[.brands]
== !

[%build]
--
image::logos/fedora.svg[Fedora]
image::logos/redhat.svg[Red Hat]
image::logos/javaee.png[Java EE]
image::logos/spring-framework.svg[Spring Framework]
image::logos/vogella.png[Vogella Company]
image::logos/khronos-group.jpg[Khronos Group]
image::logos/jhipster-minibook.jpg[JHipster Mini-book]
--

[.topic]
== Future

[.feature]
== Release planning

== ! Semantic versioning

image::versions.svg[role=grow,opts=interactive]

[.feature]
== Semantic HTML

== <screenshot of html5s>

[.feature]
== Validation & grammar

== !

image::logos/textlint.png[role=grow]

[.code]
== textlint :: insecure-url-rule

[source,js]
----
const LinkMacroRx = /(http(s)?:\/\/[^\[]+)\[[\s\S]*?\]/g
module.exports = ({ RuleError, report }) => ({
  'ParagraphNode': (node) => {
    node.children.forEach((line) => {
      let match
      while ((match = LinkMacroRx.exec(line.raw)) != null) {
        if (match[2] != null) continue
        report(line, new RuleError(
          `Illegal link to a non-secure URL: ${match[1]}`,
          { index: match.index }))
      }
    })
  }
})
----

[.code]
== !

----
$ node validate

server-docs/modules/ROOT/content/user-manual.adoc

  14:124  error  Illegal link to a non-secure URL:
                 http://example.com (non-secure-url)

✖ 1 problem (1 error, 0 warnings)
----

[.topic]
== Antora

== !

image::antora-pipeline-aggregate-classify.svg[role=grow-y]

[.code]
== Antora playbook

[source,yml]
----
site:
  url: https://docs.example.com
  title: Docs Site
content:
  sources:
  - url: https://github.com/acme/solution-docs.git
  - url: /home/username/projects/server-docs
    branches: v2.5, v3.0, v3.1
  - url: git@github.com:acme/rest-client-docs.git
    branches: v2*
ui:
  bundle: ui.zip
----

[.topic]
== Documentation

== !

.\http://asciidoctor.org/docs/user-manual/
image::asciidoctor-user-manual.png[role=cover]

//== <Antora UI screenshot>

//[.topic]
//== Funding

[.feature%slice]
//== Asciidoctor icon:handshake-o[] Antora  FTW!
== Antora icon:book[] Asciidoctor

[.thanks]
== Thank You!
